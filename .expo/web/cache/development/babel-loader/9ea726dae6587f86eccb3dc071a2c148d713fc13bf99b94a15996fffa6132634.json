{"ast":null,"code":"import * as ActionTypes from \"./ActionTypes\";\nimport { baseUrl } from \"../shared/baseUrl\";\nexport var fetchLeaders = function fetchLeaders() {\n  return function (dispatch) {\n    dispatch(leadersLoading());\n    return fetch(baseUrl + 'leaders').then(function (response) {\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);else return response.json();\n    }).then(function (leaders) {\n      return dispatch(addLeaders(leaders));\n    }).catch(function (error) {\n      return dispatch(leadersFailed(error.message));\n    });\n  };\n};\nvar leadersLoading = function leadersLoading() {\n  return {\n    type: ActionTypes.LEADERS_LOADING\n  };\n};\nvar leadersFailed = function leadersFailed(errmess) {\n  return {\n    type: ActionTypes.LEADERS_FAILED,\n    payload: errmess\n  };\n};\nvar addLeaders = function addLeaders(leaders) {\n  return {\n    type: ActionTypes.ADD_LEADERS,\n    payload: leaders\n  };\n};\nexport var fetchDishes = function fetchDishes() {\n  return function (dispatch) {\n    dispatch(dishesLoading());\n    return fetch(baseUrl + 'dishes').then(function (response) {\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);else return response.json();\n    }).then(function (dishes) {\n      return dispatch(addDishes(dishes));\n    }).catch(function (error) {\n      return dispatch(dishesFailed(error.message));\n    });\n  };\n};\nvar dishesLoading = function dishesLoading() {\n  return {\n    type: ActionTypes.DISHES_LOADING\n  };\n};\nvar dishesFailed = function dishesFailed(errmess) {\n  return {\n    type: ActionTypes.DISHES_FAILED,\n    payload: errmess\n  };\n};\nvar addDishes = function addDishes(dishes) {\n  return {\n    type: ActionTypes.ADD_DISHES,\n    payload: dishes\n  };\n};\nexport var fetchComments = function fetchComments() {\n  return function (dispatch) {\n    return fetch(baseUrl + 'comments').then(function (response) {\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);else return response.json();\n    }).then(function (comments) {\n      return dispatch(addComments(comments));\n    }).catch(function (error) {\n      return dispatch(commentsFailed(error.message));\n    });\n  };\n};\nvar commentsFailed = function commentsFailed(errmess) {\n  return {\n    type: ActionTypes.COMMENTS_FAILED,\n    payload: errmess\n  };\n};\nvar addComments = function addComments(comments) {\n  return {\n    type: ActionTypes.ADD_COMMENTS,\n    payload: comments\n  };\n};\nexport var postComment = function postComment(dishId, rating, author, comment) {\n  return function (dispatch) {\n    var newcmt = {\n      dishId: dishId,\n      rating: rating,\n      author: author,\n      comment: comment,\n      date: new Date().toISOString()\n    };\n    fetch(baseUrl + 'comments', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newcmt)\n    }).then(function (response) {\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);else return response.json();\n    }).then(function (cmt) {\n      return dispatch(addComment(cmt));\n    }).catch(function (error) {\n      return dispatch(commentsFailed(error.message));\n    });\n  };\n};\nvar addComment = function addComment(newcmt) {\n  return {\n    type: ActionTypes.ADD_COMMENT,\n    payload: newcmt\n  };\n};\nexport var fetchPromos = function fetchPromos() {\n  return function (dispatch) {\n    dispatch(promosLoading());\n    return fetch(baseUrl + 'promotions').then(function (response) {\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);else return response.json();\n    }).then(function (promos) {\n      return dispatch(addPromos(promos));\n    }).catch(function (error) {\n      return dispatch(promosFailed(error.message));\n    });\n  };\n};\nvar promosLoading = function promosLoading() {\n  return {\n    type: ActionTypes.PROMOS_LOADING\n  };\n};\nvar promosFailed = function promosFailed(errmess) {\n  return {\n    type: ActionTypes.PROMOS_FAILED,\n    payload: errmess\n  };\n};\nvar addPromos = function addPromos(promos) {\n  return {\n    type: ActionTypes.ADD_PROMOS,\n    payload: promos\n  };\n};\nexport var postFavorite = function postFavorite(dishId) {\n  return function (dispatch) {\n    dispatch(addFavorite(dishId));\n  };\n};\nvar addFavorite = function addFavorite(dishId) {\n  return {\n    type: ActionTypes.ADD_FAVORITE,\n    payload: dishId\n  };\n};\nexport var deleteFavorite = function deleteFavorite(dishId) {\n  return {\n    type: ActionTypes.DELETE_FAVORITE,\n    payload: dishId\n  };\n};","map":{"version":3,"names":["ActionTypes","baseUrl","fetchLeaders","dispatch","leadersLoading","fetch","then","response","ok","Error","status","statusText","json","leaders","addLeaders","catch","error","leadersFailed","message","type","LEADERS_LOADING","errmess","LEADERS_FAILED","payload","ADD_LEADERS","fetchDishes","dishesLoading","dishes","addDishes","dishesFailed","DISHES_LOADING","DISHES_FAILED","ADD_DISHES","fetchComments","comments","addComments","commentsFailed","COMMENTS_FAILED","ADD_COMMENTS","postComment","dishId","rating","author","comment","newcmt","date","Date","toISOString","method","headers","body","JSON","stringify","cmt","addComment","ADD_COMMENT","fetchPromos","promosLoading","promos","addPromos","promosFailed","PROMOS_LOADING","PROMOS_FAILED","ADD_PROMOS","postFavorite","addFavorite","ADD_FAVORITE","deleteFavorite","DELETE_FAVORITE"],"sources":["D:/mobile/NguyenTQ/redux/ActionCreators.js"],"sourcesContent":["import * as ActionTypes from './ActionTypes';\r\nimport { baseUrl } from '../shared/baseUrl';\r\n\r\n// leaders\r\nexport const fetchLeaders = () => (dispatch) => {\r\n  dispatch(leadersLoading());\r\n  return fetch(baseUrl + 'leaders')\r\n    .then((response) => {\r\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);\r\n      else return response.json();\r\n    })\r\n    .then((leaders) => dispatch(addLeaders(leaders)))\r\n    .catch((error) => dispatch(leadersFailed(error.message)));\r\n};\r\nconst leadersLoading = () => ({\r\n  type: ActionTypes.LEADERS_LOADING\r\n});\r\nconst leadersFailed = (errmess) => ({\r\n  type: ActionTypes.LEADERS_FAILED,\r\n  payload: errmess\r\n});\r\nconst addLeaders = (leaders) => ({\r\n  type: ActionTypes.ADD_LEADERS,\r\n  payload: leaders\r\n});\r\n\r\n// dishes\r\nexport const fetchDishes = () => (dispatch) => {\r\n  dispatch(dishesLoading());\r\n  return fetch(baseUrl + 'dishes')\r\n    .then((response) => {\r\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);\r\n      else return response.json();\r\n    })\r\n    .then((dishes) => dispatch(addDishes(dishes)))\r\n    .catch((error) => dispatch(dishesFailed(error.message)));\r\n};\r\nconst dishesLoading = () => ({\r\n  type: ActionTypes.DISHES_LOADING\r\n});\r\nconst dishesFailed = (errmess) => ({\r\n  type: ActionTypes.DISHES_FAILED,\r\n  payload: errmess\r\n});\r\nconst addDishes = (dishes) => ({\r\n  type: ActionTypes.ADD_DISHES,\r\n  payload: dishes\r\n});\r\n\r\n// comments\r\nexport const fetchComments = () => (dispatch) => {\r\n  return fetch(baseUrl + 'comments')\r\n    .then((response) => {\r\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);\r\n      else return response.json();\r\n    })\r\n    .then((comments) => dispatch(addComments(comments)))\r\n    .catch((error) => dispatch(commentsFailed(error.message)));\r\n};\r\nconst commentsFailed = (errmess) => ({\r\n  type: ActionTypes.COMMENTS_FAILED,\r\n  payload: errmess\r\n});\r\nconst addComments = (comments) => ({//lấy từ server\r\n  type: ActionTypes.ADD_COMMENTS,\r\n  payload: comments\r\n});\r\n\r\nexport const postComment = (dishId, rating, author, comment) => (dispatch) => {\r\n  var newcmt = { dishId: dishId, rating: rating, author: author, comment: comment, date: new Date().toISOString() };\r\n  fetch(baseUrl + 'comments', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(newcmt)\r\n  }).then((response) => {\r\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);\r\n      else return response.json();\r\n    })\r\n    .then((cmt) => dispatch(addComment(cmt)))\r\n    .catch((error) => dispatch(commentsFailed(error.message)));\r\n};\r\n\r\nconst addComment = (newcmt) => ({//lấy từ form\r\n  type: ActionTypes.ADD_COMMENT,\r\n  payload: newcmt\r\n});\r\n// promotions\r\nexport const fetchPromos = () => (dispatch) => {\r\n  dispatch(promosLoading());\r\n  return fetch(baseUrl + 'promotions')\r\n    .then((response) => {\r\n      if (!response.ok) throw Error('Error ' + response.status + ': ' + response.statusText);\r\n      else return response.json();\r\n    })\r\n    .then((promos) => dispatch(addPromos(promos)))\r\n    .catch((error) => dispatch(promosFailed(error.message)));\r\n};\r\nconst promosLoading = () => ({\r\n  type: ActionTypes.PROMOS_LOADING\r\n});\r\nconst promosFailed = (errmess) => ({\r\n  type: ActionTypes.PROMOS_FAILED,\r\n  payload: errmess\r\n});\r\nconst addPromos = (promos) => ({\r\n  type: ActionTypes.ADD_PROMOS,\r\n  payload: promos\r\n});\r\n// favorites\r\nexport const postFavorite = (dishId) => (dispatch) => {\r\n  dispatch(addFavorite(dishId));\r\n};\r\nconst addFavorite = (dishId) => ({\r\n  type: ActionTypes.ADD_FAVORITE,\r\n  payload: dishId\r\n});\r\nexport const deleteFavorite = (dishId) => ({\r\n  type: ActionTypes.DELETE_FAVORITE,\r\n  payload: dishId\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}